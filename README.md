<p align="center">
  <img src="https://raw.githubusercontent.com/CosmicMagnetar/openTriage/main/frontend/public/logo.png" alt="OpenTriage Logo" width="140" />
</p>

<h1 align="center">OpenTriage</h1>

<p align="center">
  <strong>AI-Powered Intelligence for Open Source Communities</strong>
</p>

<p align="center">
  <a href="#key-features">Features</a> •
  <a href="#tech-stack">Tech Stack</a> •
  <a href="#architecture">Architecture</a> •
  <a href="#getting-started">Getting Started</a> •
  <a href="#contributing">Contributing</a>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License" />
  <img src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg" alt="PRs Welcome" />
  <img src="https://img.shields.io/badge/python-3.10+-blue.svg" alt="Python 3.10+" />
  <img src="https://img.shields.io/badge/node-18+-green.svg" alt="Node 18+" />
  <img src="https://img.shields.io/github/stars/CosmicMagnetar/openTriage?style=social" alt="GitHub Stars" />
</p>

---

## What is OpenTriage?

OpenTriage is a **next-generation platform** that transforms how open source communities collaborate. By leveraging advanced AI and real-time analytics, it bridges the gap between maintainers and contributors, making open source development more efficient, rewarding, and inclusive.

<p align="center">
  <img src="https://img.shields.io/badge/Powered%20by-Apache%20Spark-E25A1C?style=for-the-badge&logo=apachespark&logoColor=white" alt="Apache Spark" />
  <img src="https://img.shields.io/badge/AI-OpenAI%20%7C%20Gemini%20%7C%20Llama-412991?style=for-the-badge&logo=openai&logoColor=white" alt="AI Powered" />
  <img src="https://img.shields.io/badge/Integrated%20with-GitHub-181717?style=for-the-badge&logo=github&logoColor=white" alt="GitHub Integration" />
</p>

---

## Key Features

### AI-Powered Assistance

<table>
<tr>
<td width="50%">

**Smart Triage**
  
Automatically classifies issues/PRs (Bug, Feature, Documentation), generates summaries, and analyzes sentiment to prioritize critical items.

</td>
<td width="50%">

**Maintainer Copilot**

AI assistant that drafts replies, suggests labels, analyzes PRs for quality and security, and provides context-aware code insights.

</td>
</tr>
<tr>
<td width="50%">

**Contributor Mentor**

Guides new contributors through contribution workflows, helps identify suitable issues based on skills, and provides constructive feedback.

</td>
<td width="50%">

**RAG-Powered Chat**

Repository-aware chatbot that understands your project's documentation, README, and codebase to provide accurate answers.

</td>
</tr>
</table>

### Advanced Analytics

<table>
<tr>
<td width="50%">

**Invisible Labor Dashboard**

Quantifies often-overlooked contributions: code reviews, mentorship, triage work, and community support.

</td>
<td width="50%">

**Sentiment Analysis**

Real-time monitoring of community health through issue/PR comment sentiment analysis.

</td>
</tr>
<tr>
<td width="50%">

**Contribution Streaks**

GitHub-style impact calendar with streak tracking and activity heatmaps.

</td>
<td width="50%">

**Gamification Engine**

XP system, badges, trophies, and leaderboards to recognize and reward contributors.

</td>
</tr>
</table>

### Smart Issue Management

<table>
<tr>
<td width="50%">

**Cookie-Licking Detection**

Automatically monitors claimed issues and releases them if no progress is detected—ensuring issues don't get stuck.

</td>
<td width="50%">

**Mentor Matching**

AI-powered matching system that connects new contributors with experienced mentors based on skills and interests.

</td>
</tr>
<tr>
<td width="50%">

**Hype Generator**

Creates engaging social media posts and release notes to boost project visibility.

</td>
<td width="50%">

**Resource Vault**

Curated learning resources tailored to your tech stack and contribution areas.

</td>
</tr>
</table>

### Gamification & Recognition

| Feature | Description |
|---------|-------------|
| **Dynamic Badges** | LeetCode-style achievement system with tiered badges (Bronze, Silver, Gold, Diamond) |
| **Trophy Cabinet** | Showcase your open source achievements with collectible trophies |
| **Contribution Calendar** | Visual representation of your impact over time |
| **Leaderboards** | Community rankings based on various contribution metrics |

---

## Tech Stack

<p align="center">
  <a href="https://react.dev/"><img src="https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB" alt="React" /></a>
  <a href="https://vitejs.dev/"><img src="https://img.shields.io/badge/Vite-646CFF?style=for-the-badge&logo=vite&logoColor=white" alt="Vite" /></a>
  <a href="https://tailwindcss.com/"><img src="https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white" alt="Tailwind CSS" /></a>
  <a href="https://www.radix-ui.com/"><img src="https://img.shields.io/badge/Radix_UI-161618?style=for-the-badge&logo=radix-ui&logoColor=white" alt="Radix UI" /></a>
</p>

<p align="center">
  <a href="https://fastapi.tiangolo.com/"><img src="https://img.shields.io/badge/FastAPI-009688?style=for-the-badge&logo=fastapi&logoColor=white" alt="FastAPI" /></a>
  <a href="https://www.python.org/"><img src="https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white" alt="Python" /></a>
  <a href="https://www.mongodb.com/"><img src="https://img.shields.io/badge/MongoDB-47A248?style=for-the-badge&logo=mongodb&logoColor=white" alt="MongoDB" /></a>
  <a href="https://jwt.io/"><img src="https://img.shields.io/badge/JWT-000000?style=for-the-badge&logo=JSON%20web%20tokens&logoColor=white" alt="JWT" /></a>
</p>

<p align="center">
  <a href="https://spark.apache.org/"><img src="https://img.shields.io/badge/Apache_Spark-E25A1C?style=for-the-badge&logo=apachespark&logoColor=white" alt="Apache Spark" /></a>
  <a href="https://openai.com/"><img src="https://img.shields.io/badge/OpenAI-412991?style=for-the-badge&logo=openai&logoColor=white" alt="OpenAI" /></a>
  <a href="https://ai.google.dev/"><img src="https://img.shields.io/badge/Gemini-8E75B2?style=for-the-badge&logo=google&logoColor=white" alt="Gemini" /></a>
  <a href="https://llama.meta.com/"><img src="https://img.shields.io/badge/Llama_3.3-0467DF?style=for-the-badge&logo=meta&logoColor=white" alt="Llama" /></a>
</p>

### Technology Overview

| Layer | Technologies |
|-------|-------------|
| **Frontend** | React 18, Vite, Tailwind CSS, Radix UI, Zustand, Recharts, React Router |
| **Backend** | FastAPI, Python 3.10+, Motor (async MongoDB), Pydantic, JWT Auth |
| **AI/ML** | OpenAI GPT-4, Llama 3.3, Gemini 2.0, Custom RAG Pipeline |
| **Analytics** | Apache Spark, PySpark SQL, Spark Streaming |
| **Infrastructure** | MongoDB Atlas, Vercel (Frontend), Render (Backend) |

---

## Architecture

<p align="center">
  <img src="https://raw.githubusercontent.com/CosmicMagnetar/openTriage/main/frontend/public/architecture.png" alt="OpenTriage Architecture" width="800" />
</p>

<details>
<summary><strong>View Text Diagram</strong></summary>

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              OPENTRIAGE PLATFORM                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌──────────────────────────────────────────────────────────────────────┐   │
│  │                         FRONTEND (React + Vite)                      │   │
│  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────┐   │   │
│  │  │   Maintainer    │  │   Contributor   │  │    Authentication   │   │   │
│  │  │     Portal      │  │    Dashboard    │  │      (OAuth)        │   │   │
│  │  └─────────────────┘  └─────────────────┘  └─────────────────────┘   │   │
│  └──────────────────────────────────────────────────────────────────────┘   │
│                                    │                                        │
│                                    ▼                                        │
│  ┌──────────────────────────────────────────────────────────────────────┐   │
│  │                        BACKEND (FastAPI)                             │   │
│  │  ┌──────────────┐  ┌────────────────┐  ┌─────────────────────────┐   │   │
│  │  │   AI Chat    │  │  GitHub Sync   │  │    Profile & Auth       │   │   │
│  │  │   Service    │  │    Service     │  │       Service           │   │   │
│  │  └──────────────┘  └────────────────┘  └─────────────────────────┘   │   │
│  │  ┌──────────────┐  ┌────────────────┐  ┌─────────────────────────┐   │   │
│  │  │ Gamification │  │ Cookie-Licking │  │   Invisible Labor       │   │   │
│  │  │    Engine    │  │    Monitor     │  │      Analytics          │   │   │
│  │  └──────────────┘  └────────────────┘  └─────────────────────────┘   │   │
│  └──────────────────────────────────────────────────────────────────────┘   │
│                          │                    │                             │
│              ┌───────────┴────────┐   ┌──────┴───────┐                      │
│              ▼                    ▼   ▼              ▼                      │
│  ┌────────────────────┐  ┌────────────────┐  ┌──────────────────────┐       │
│  │     MongoDB        │  │  Apache Spark  │  │   LLM Providers      │       │
│  │   (Data Store)     │  │  (Analytics)   │  │ (OpenAI/Gemini/Llama)│       │
│  └────────────────────┘  └────────────────┘  └──────────────────────┘       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

</details>

---

## Project Structure

```
opentriage/
├── backend/
│   ├── config/           # Application settings, database configuration
│   ├── models/           # Pydantic models and data schemas
│   ├── routes/           # FastAPI router definitions
│   │   ├── auth.py       # GitHub OAuth authentication
│   │   ├── contributor.py # Contributor dashboard APIs
│   │   ├── maintainer.py # Maintainer portal APIs
│   │   ├── mentor.py     # Mentorship endpoints
│   │   ├── profile.py    # User profile management
│   │   ├── spark.py      # Analytics endpoints
│   │   └── ...
│   ├── services/         # Core business logic
│   │   ├── ai_service.py              # LLM integration
│   │   ├── badges_service.py          # Badge system
│   │   ├── cookie_licking_service.py  # Claim monitoring
│   │   ├── gamification_engine.py     # XP & streaks
│   │   ├── github_service.py          # GitHub API wrapper
│   │   ├── invisible_labor_analytics.py # Hidden contribution metrics
│   │   ├── mentor_matching_service.py # Mentor-mentee matching
│   │   ├── rag_chatbot_service.py     # RAG-powered chat
│   │   ├── spark_sentiment_pipeline.py # Sentiment analysis
│   │   └── ...
│   ├── spark_manager.py  # Apache Spark session management
│   └── server.py         # Application entry point
│
├── frontend/
│   ├── src/
│   │   ├── components/
│   │   │   ├── contributor/  # Contributor dashboard components
│   │   │   ├── maintainer/   # Maintainer portal components
│   │   │   └── ui/           # Shared UI components
│   │   ├── services/         # API client and service functions
│   │   ├── stores/           # Zustand state management
│   │   └── hooks/            # Custom React hooks
│   └── index.html
│
└── tests/                # Test suites
```

---

## Getting Started

### Prerequisites

<p align="left">
  <img src="https://img.shields.io/badge/Node.js-v18+-339933?style=flat-square&logo=nodedotjs&logoColor=white" alt="Node.js" />
  <img src="https://img.shields.io/badge/Python-v3.10+-3776AB?style=flat-square&logo=python&logoColor=white" alt="Python" />
  <img src="https://img.shields.io/badge/MongoDB-Required-47A248?style=flat-square&logo=mongodb&logoColor=white" alt="MongoDB" />
  <img src="https://img.shields.io/badge/Git-Required-F05032?style=flat-square&logo=git&logoColor=white" alt="Git" />
</p>

### Installation

#### Step 1: Clone the Repository

```bash
git clone https://github.com/CosmicMagnetar/openTriage.git
cd opentriage
```

#### Step 2: Backend Setup

```bash
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
```

Create a `.env` file in the `backend` directory:

```env
# Database
MONGO_URL=mongodb://localhost:27017
DB_NAME=opentriage

# GitHub OAuth
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Security
JWT_SECRET=your_jwt_secret

# AI Services
OPENROUTER_API_KEY=your_openrouter_api_key
```

Start the server:

```bash
uvicorn server:app --reload --port 8000
```

#### Step 3: Frontend Setup

```bash
cd frontend
npm install
```

Create a `.env` file in the `frontend` directory:

```env
VITE_BACKEND_URL=http://localhost:8000
```

Start the development server:

```bash
npm run dev
```

The app will be available at `http://localhost:5173`

---

## Spark Configuration

<p align="left">
  <img src="https://img.shields.io/badge/Apache%20Spark-E25A1C?style=for-the-badge&logo=apachespark&logoColor=white" alt="Apache Spark" />
</p>

OpenTriage uses Apache Spark for high-performance analytics. Add these optional environment variables to your backend `.env`:

```env
SPARK_APP_NAME=OpenTriage
SPARK_MASTER=local[*]
SPARK_DRIVER_MEMORY=4g
SPARK_EXECUTOR_MEMORY=2g
SPARK_LOG_LEVEL=WARN
```

### Performance Tuning

| Setting | Low Memory (8GB) | Standard (16GB) | High Performance (32GB+) |
|---------|:----------------:|:---------------:|:------------------------:|
| `SPARK_DRIVER_MEMORY` | 2g | 4g | 8g |
| `SPARK_EXECUTOR_MEMORY` | 1g | 2g | 4g |

**Auto-configured optimizations:**
- Adaptive query execution for dynamic optimization
- Kryo serialization for faster data transfer
- Off-heap memory for improved GC performance
- Arrow optimization for Pandas integration

---

## Contributing

<p align="left">
  <img src="https://img.shields.io/badge/Contributions-Welcome-brightgreen?style=for-the-badge" alt="Contributions Welcome" />
</p>

### Quick Start

1. **Find an Issue** — Look for `good first issue` or `help wanted` labels
2. **Fork & Branch** — Create a feature branch from `main`
3. **Code** — Follow existing patterns and conventions
4. **Test** — Ensure your changes don't break existing functionality
5. **Submit PR** — Write a clear description of your changes

### Where to Add Files

| Type | Location |
|------|----------|
| New API endpoints | `backend/routes/` (register in `routes/__init__.py`) |
| Business logic | `backend/services/` |
| Data models | `backend/models/` |
| React components | `frontend/src/components/` |
| API client functions | `frontend/src/services/api.js` |
| State management | `frontend/src/stores/` |

### Development Guidelines

- Use meaningful commit messages
- Keep PRs focused and reasonably sized
- Add comments for complex logic
- Update documentation as needed

---

## Links

<p align="left">
  <a href="https://github.com/CosmicMagnetar/openTriage/issues"><img src="https://img.shields.io/badge/Report%20Bug-GitHub%20Issues-red?style=for-the-badge&logo=github" alt="Report Bug" /></a>
  <a href="https://github.com/CosmicMagnetar/openTriage/discussions"><img src="https://img.shields.io/badge/Discussions-GitHub-blue?style=for-the-badge&logo=github" alt="Discussions" /></a>
</p>

---

## License

<p align="left">
  <img src="https://img.shields.io/badge/License-MIT-blue?style=for-the-badge" alt="MIT License" />
</p>

This project is licensed under the MIT License — see the [LICENSE](LICENSE) file for details.

---

<p align="center">
  <sub>Built for the Open Source Community</sub>
</p>

<p align="center">
  <a href="https://github.com/CosmicMagnetar/openTriage">
    <img src="https://img.shields.io/badge/Star%20this%20repo-GitHub-181717?style=for-the-badge&logo=github" alt="Star on GitHub" />
  </a>
</p>
